{"version":3,"sources":["webpack:///./src/pages/TouchScale.vue?c998","webpack:///src/pages/TouchScale.vue","webpack:///./src/pages/TouchScale.vue?a692","webpack:///./src/pages/TouchScale.vue","webpack:///./node_modules/core-js/modules/es.math.hypot.js","webpack:///./src/assets/image/qrcode-touch-scale.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","handlePreview","handleRemove","beforeRemove","handleChange","fileList","content","staticRenderFns","name","data","created","mounted","document","addEventListener","store","pageX","event1","pageY","event","preventDefault","event2","pageX2","pageY2","moveable","events2","Math","hypot","stop","x","start","y","newScale","scale","eleImg","style","transform","methods","console","log","file","$confirm","reader","readAsText","raw","onload","component","$","$hypot","abs","sqrt","BUGGY","Infinity","NaN","target","stat","forced","value1","value2","arg","div","sum","i","aLen","arguments","length","larg","module","exports"],"mappings":"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","file":"js/chunk-002f6242.0c9bd182.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"touch-scale\"},[_c('span',[_vm._v(\"缩放图片\")]),_c('img',{attrs:{\"id\":\"img\",\"src\":require(\"../assets/image/qrcode-touch-scale.png\")}}),_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":\"https://jsonplaceholder.typicode.com/posts/\",\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"before-remove\":_vm.beforeRemove,\"on-change\":_vm.handleChange,\"file-list\":_vm.fileList,\"auto-upload\":false}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")])],1),_c('span',[_vm._v(\"源码展示\")]),_c('markdown-it-vue',{staticClass:\"md-body\",attrs:{\"content\":_vm.content}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Author: fzsong3\r\n * @Date: 2020/7/7 11:34\r\n * @Description: 双指触屏缩放参考地址 https://www.zhangxinxu.com/wordpress/2020/06/mobile-event-touches-zoom-sacle/\r\n-->\r\n<template>\r\n  <div class=\"touch-scale\">\r\n    <span>缩放图片</span>\r\n    <img id=\"img\" src=\"../assets/image/qrcode-touch-scale.png\" />\r\n    <el-upload\r\n      class=\"upload-demo\"\r\n      action=\"https://jsonplaceholder.typicode.com/posts/\"\r\n      :on-preview=\"handlePreview\"\r\n      :on-remove=\"handleRemove\"\r\n      :before-remove=\"beforeRemove\"\r\n      :on-change=\"handleChange\"\r\n      :file-list=\"fileList\"\r\n      :auto-upload=\"false\"\r\n    >\r\n      <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n    </el-upload>\r\n    <span>源码展示</span>\r\n    <markdown-it-vue class=\"md-body\" :content=\"content\"></markdown-it-vue>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import source from '../assets/markdown/touch-scale.md'\r\nexport default {\r\n  name: 'TouchScale',\r\n  data () {\r\n    return {\r\n      content: '',\r\n      fileList: []\r\n    }\r\n  },\r\n  created () {\r\n    // console.log(sources.toString())\r\n  },\r\n  mounted () {\r\n    const eleImg = document.querySelector('#image')\r\n    const store = { scale: 1 }\r\n\r\n    // 缩放事件处理 start 获取第一个指头的信息\r\n    document.addEventListener('touchstart', function(event) {\r\n      const touches = event.touches\r\n\r\n      const event1 = touches[0]\r\n      const event2 = touches[1]\r\n      store.pageX = event1.pageX\r\n      store.pageY = event1.pageY\r\n\r\n      event.preventDefault()\r\n\r\n      if (event2) {\r\n        store.pageX2 = event2.pageX\r\n        store.pageY2 = event2.pageY\r\n      }\r\n\r\n      store.moveable = true\r\n\r\n    })\r\n\r\n    document.addEventListener('touchmove', function (event) {\r\n      if (!store.moveable) {\r\n        return;\r\n      }\r\n\r\n      event.preventDefault();\r\n\r\n      const touches = event.touches;\r\n      const events = touches[0];\r\n      const events2 = touches[1];\r\n      // 双指移动\r\n      if (events2) {\r\n        // 第2个指头坐标在touchmove时候获取\r\n        if (!store.pageX2) {\r\n          store.pageX2 = events2.pageX;\r\n        }\r\n        if (!store.pageY2) {\r\n          store.pageY2 = events2.pageY;\r\n        }\r\n\r\n        // 获取坐标之间的举例\r\n        const getDistance = function (start, stop) {\r\n          return Math.hypot(stop.x - start.x, stop.y - start.y);\r\n        };\r\n        // 双指缩放比例计算\r\n        const zoom = getDistance(\r\n          {\r\n            x: events.pageX,\r\n            y: events.pageY\r\n          },\r\n          {\r\n            x: events2.pageX,\r\n            y: events2.pageY\r\n          }) /\r\n          getDistance({\r\n            x: store.pageX,\r\n            y: store.pageY\r\n          }, {\r\n            x: store.pageX2,\r\n            y: store.pageY2\r\n          });\r\n        // 应用在元素上的缩放比例\r\n        let newScale = store.originScale * zoom;\r\n        // 最大缩放比例限制\r\n        if (newScale > 3) {\r\n          newScale = 3;\r\n        }\r\n        // 记住使用的缩放值\r\n        store.scale = newScale;\r\n        // 图像应用缩放效果\r\n        eleImg.style.transform = 'scale('+ newScale +')';\r\n      }\r\n    });\r\n\r\n    document.addEventListener('touchend', function () {\r\n      store.moveable = false;\r\n\r\n      delete store.pageX2;\r\n      delete store.pageY2;\r\n    });\r\n    document.addEventListener('touchcancel', function () {\r\n      store.moveable = false;\r\n\r\n      delete store.pageX2;\r\n      delete store.pageY2;\r\n    });\r\n  },\r\n  methods: {\r\n    handleRemove(file, fileList) {\r\n      console.log(file, fileList);\r\n    },\r\n    handlePreview(file) {\r\n      console.log(file);\r\n    },\r\n    beforeRemove(file) {\r\n      return this.$confirm(`确定移除 ${ file.name }？`);\r\n    },\r\n    handleChange (file, fileList) {\r\n      console.log(file, fileList)\r\n      const reader = new FileReader()\r\n      reader.readAsText(file.raw)\r\n      reader.onload = () => {\r\n        this.content = reader.result\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TouchScale.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TouchScale.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TouchScale.vue?vue&type=template&id=55cc0ec3&scoped=true&\"\nimport script from \"./TouchScale.vue?vue&type=script&lang=js&\"\nexport * from \"./TouchScale.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55cc0ec3\",\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\n\nvar $hypot = Math.hypot;\nvar abs = Math.abs;\nvar sqrt = Math.sqrt;\n\n// Chrome 77 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=9546\nvar BUGGY = !!$hypot && $hypot(Infinity, NaN) !== Infinity;\n\n// `Math.hypot` method\n// https://tc39.github.io/ecma262/#sec-math.hypot\n$({ target: 'Math', stat: true, forced: BUGGY }, {\n  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * sqrt(sum);\n  }\n});\n","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}