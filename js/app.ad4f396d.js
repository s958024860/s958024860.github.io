(function(e){function t(t){for(var r,i,s=t[0],c=t[1],l=t[2],d=0,f=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("85ec"),o=n.n(r);o.a},"0379":function(e,t,n){"use strict";var r=n("d63b"),o=n.n(r);o.a},"20e2":function(e,t,n){"use strict";var r=n("ffd4"),o=n.n(r);o.a},"245a":function(e,t,n){n("99af"),n("4160"),n("4fad"),n("d3b7"),n("ac1f"),n("1276"),n("159b"),n("ddb0");var r=n("278c"),o=n("96eb");o.setup({timeout:"200-600"});var a=[],i=n("36ed");i.keys().forEach((function(e){"./index.js"!==e&&(a=a.concat(i(e).default))})),a.forEach((function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var a=r(n[t],2),i=a[0],s=a[1],c=i.split("|");o.mock(c[1],c[0],s)}}))},"281d":function(e,t,n){"use strict";var r=n("d658"),o=n.n(r);o.a},"36ed":function(e,t,n){var r={"./index.js":"245a","./keyList.js":"3b33"};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id="36ed"},"3b33":function(e,t,n){"use strict";n.r(t),t["default"]={"get|/key/list":{rows:[{id:"c53ac8F6-28aF-b7C0-C464-C5E426Bdee21",name:"曾伟",age:26,job:"前端工程师"},{id:"7FB1850C-690c-EeaC-f5eE-EFcEfFB9520C",name:"林娜",age:28,job:"后端工程师"},{id:"2E31fCAb-fE78-0c1F-BAfd-Dd8BEBbF390C",name:"白平",age:22,job:"UI工程师"},{id:"55875dd0-2A1F-26B3-4d4A-d7575eF69ca2",name:"沈娟",age:22,job:"后端工程师"},{id:"F1343bC5-C88e-adE1-612d-CAB3EbCFE2a2",name:"杨娜",age:26,job:"后端工程师"},{id:"202F47E5-2CcC-F6e6-c4B4-Bb6b0cCfEc18",name:"许平",age:24,job:"后端工程师"},{id:"0Debcdfc-E5CC-c095-A6A6-BE93B7c36d3A",name:"冯刚",age:23,job:"UI工程师"},{id:"46A5DfB2-99A7-6fe1-2c1a-EBbBff335Ca7",name:"廖超",age:23,job:"后端工程师"},{id:"C93BbCBc-1206-2D98-2f37-ADAde99994De",name:"姜洋",age:28,job:"测试工程师"},{id:"E394F6C6-Ad7D-7bE1-c573-FEFd6Be82A2f",name:"周秀兰",age:28,job:"测试工程师"}]}}},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=n("5c96"),a=n.n(o),i=(n("0fae"),n("8c4f")),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"key-test"},[n("div",[e._v(" 操作下标："),n("el-input-number",{model:{value:e.targetIndex,callback:function(t){e.targetIndex=t},expression:"targetIndex"}}),n("el-button",{on:{click:e.insert}},[e._v("插入")]),n("el-button",{on:{click:e.del}},[e._v("删除")]),n("el-button",{on:{click:e.reset}},[e._v("重置")]),n("el-button",{on:{click:e.update}},[e._v("修改")])],1),e._l(e.keyList,(function(e){return n("KeyObject",{key:e.id,attrs:{"data-obj":e}})}))],2)},c=[],l=(n("a434"),n("a9e3"),n("2ef0")),u=n.n(l),d=n("ec26"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"key-object"},[n("span",[e._v("id: "+e._s(e.dataObj.id)+" | ")]),n("span",[e._v("name: "+e._s(e.dataObj.name)+" | ")]),n("span",[e._v("job: "+e._s(e.dataObj.job))])])},m=[],p={name:"KeyObject",props:{dataObj:{type:Object,default:function(){return{}}}},mounted:function(){console.log("mounted------".concat(this.dataObj.id))},updated:function(){console.log("updated------".concat(this.dataObj.id))}},b=p,h=n("2877"),g=Object(h["a"])(b,f,m,!1,null,"44b8afcf",null),v=g.exports,w=n("bc3a"),k=n.n(w),y=k.a.create({timeout:6e3,headers:{contentType:"application/json;charset=UTF-8"}}),x=y;function O(){return x.get("/key/list")}var _={name:"KeyTest",components:{KeyObject:v},data:function(){return{keyList:[],targetIndex:-1,initList:[]}},created:function(){this.getList()},methods:{getList:function(){var e=this;O().then((function(t){var n=t.data;e.keyList=n.rows,e.initList=u.a.cloneDeep(n.rows)}))},insert:function(){this.keyList.splice(Number(this.targetIndex),1)},del:function(){this.keyList.splice(Number(this.targetIndex),1)},reset:function(){this.keyList=u.a.cloneDeep(this.initList)},update:function(){var e={id:Object(d["a"])(),name:"sfz",age:30,job:"插入工程师"};this.keyList.splice(this.targetIndex,1,e)}}},N=_,j=Object(h["a"])(N,s,c,!1,null,"a8a30642",null),C=j.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-table-test"},[n("FormTest")],1)},E=[],$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-test"},[n("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules}},[n("el-form-item",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.form.orderList,stripe:""}},[n("el-table-column",{attrs:{prop:"consigneeName",label:"收货人姓名"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-form-item",{attrs:{label:"",prop:"orderList."+t.$index+".consigneeName",rules:e.rules.orderList.consigneeName}},[n("el-popover",{attrs:{placement:"bottom-start",title:"",trigger:"manual",width:"800"},model:{value:t.row.visible,callback:function(n){e.$set(t.row,"visible",n)},expression:"scope.row.visible"}},[n("el-input",{ref:"member-input_"+t.$index,attrs:{slot:"reference",placeholder:"姓名"},nativeOn:{keydown:[function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"esc",27,n.key,["Esc","Escape"])?null:(n.stopPropagation(),n.preventDefault(),e.displayNoneMedicineList(t.row))},function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"tab",9,n.key,"Tab")?null:e.displayNoneMedicineList(t.row)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.stopPropagation(),t.preventDefault(),e.navigateRow("next"))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.stopPropagation(),t.preventDefault(),e.navigateRow("prev"))}],keyup:[function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.memberSearch(t.row)},function(n){return function(n){e.debounceSearch(n,t.row)}(n)}],paste:function(n){return function(n){e.debounceSearch(n,t.row)}(n)}},slot:"reference",model:{value:t.row.consigneeName,callback:function(n){e.$set(t.row,"consigneeName",n)},expression:"scope.row.consigneeName"}}),n("Member",{attrs:{members:e.members,"current-row-index":e.currentRowIndex},on:{setMemberInfo:function(n){e.setMemberInfo(t.row,n)}}})],1)],1)]}}])}),n("el-table-column",{attrs:{prop:"consigneeSex",label:"收货人性别"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.consigneeSex||"--"))])]}}])}),n("el-table-column",{attrs:{prop:"consigneePhoneNo",label:"收货人电话"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.consigneePhoneNo||"--"))])]}}])}),n("el-table-column",{attrs:{prop:"consigneeAddr",label:"收货人地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.consigneeAddr||"--"))])]}}])}),n("el-table-column",{attrs:{prop:"consignorName",label:"发货人姓名"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.consignorName||"--"))])]}}])}),n("el-table-column",{attrs:{prop:"consignorPhoneNo",label:"发货人电话"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.consignorPhoneNo||"--"))])]}}])}),n("el-table-column",{attrs:{prop:"consignorAddr",label:"发货人地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.consignorAddr||"--"))])]}}])}),n("el-table-column",{attrs:{prop:"remark",label:"备注"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{nativeOn:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.enterRemark(t.$index)}},model:{value:t.row.remark,callback:function(n){e.$set(t.row,"remark",n)},expression:"scope.row.remark"}})]}}])}),n("el-table-column",{attrs:{prop:"operation",label:"",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(n){return e.delOrder(t.$index)}}})]}}])},[n("template",{slot:"header"},[n("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{cursor:"pointer"},on:{click:function(t){return e.addOrder()}}})])],2)],1)],1)],1),n("div",{staticClass:"operation"},[n("el-button",{attrs:{type:"primary"},on:{click:e.sendBatch}},[e._v("批量发货")])],1)],1)},R=[],I=(n("4de4"),n("caad"),n("b0c0"),n("2532"),n("96cf"),n("1da1")),S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"member"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.members,"highlight-current-row":"",height:"295","row-class-name":e.tableRowClassName},on:{"row-click":e.handleRowClick}},[n("el-table-column",{attrs:{prop:"name",label:"姓名","min-width":"80","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"sex",label:"性别","min-width":"80","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"phoneNo",label:"手机号","min-width":"120","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"address",label:"住址","min-width":"80","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"firstOrderTime",label:"首次订单时间","min-width":"150","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"recentOrderTime",label:"最近订单时间","min-width":"150","show-overflow-tooltip":""}})],1)],1)},L=[],A={name:"Member",props:{members:{type:Array,default:function(){return[]}},currentRowIndex:{type:Number,default:-1}},methods:{tableRowClassName:function(e){var t=e.rowIndex;return t===this.currentRowIndex?"active-row":""},handleRowClick:function(e){e&&this.$emit("setMemberInfo",e)}}},F=A,B=(n("281d"),Object(h["a"])(F,S,L,!1,null,null,null)),D=B.exports,M=n("ff66"),P={originConsigneeName:"",consigneeCode:"",consigneeName:"",consigneeSex:"",consigneePhoneNo:"",consigneeAddr:"",consignorName:"Nancy",consignorPhoneNo:"12345678923",consignorAddr:"安道尔",remark:"",visible:!1},U={name:"FormTest",components:{Member:D},data:function(){return{members:[],currentRowIndex:-1,form:{orderList:[u.a.cloneDeep(P)]},rules:{orderList:{consigneeName:[{required:!0,message:"收货人不能为空",trigger:"blur"}],remark:[]}}}},methods:{sendBatch:function(){var e=this;this.$refs["form"].validate((function(t){t?e.$message.success("成功发送".concat(e.form.orderList.length,"条订单")):e.$message.error("请检查表单项")}))},enterRemark:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e!==t.form.orderList.length-1){n.next=5;break}return n.next=3,t.addOrder();case 3:n.next=9;break;case 5:return n.next=7,t.$nextTick();case 7:return n.next=9,t.focusConsigneeNameName(e+1);case 9:case"end":return n.stop()}}),n)})))()},addOrder:function(){this.form.orderList.push(u.a.cloneDeep(P)),this.focusConsigneeNameName(this.form.orderList.length-1)},focusConsigneeNameName:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$nextTick();case 2:t.$refs["member-input_".concat(e)].focus();case 3:case"end":return n.stop()}}),n)})))()},delOrder:function(e){1!==this.form.orderList.length?this.form.orderList.splice(e,1):this.$message.info("至少保存一条订单")},setMemberInfo:function(e,t){var n=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n.displayNoneMedicineList(e),n.$set(e,"consigneeName",t.name),n.$set(e,"originConsigneeName",t.name),n.$set(e,"consigneeCode",t.id),n.$set(e,"consigneeSex",t.sex),n.$set(e,"consigneePhoneNo",t.phoneNo),n.$set(e,"consigneeAddr",t.address),r.next=9,n.$nextTick();case 9:n.clearValidate();case 10:case"end":return r.stop()}}),r)})))()},displayNoneMedicineList:function(e){var t=this;this.$set(e,"consigneeName",e.consigneeCode?e.originConsigneeName:""),setTimeout((function(){t.members=[],t.currentRowIndex=-1,t.$set(e,"visible",!1)}),250)},navigateRow:function(e){var t;(null===(t=this.members)||void 0===t?void 0:t.length)&&("next"===e?(this.currentRowIndex+=1,this.currentRowIndex===this.members.length&&(this.currentRowIndex=0)):(this.currentRowIndex-=1,this.currentRowIndex<0&&(this.currentRowIndex=this.members.length-1)))},debounceSearch:function(e,t){[37,38,39,40,9,13,27].includes(e.keyCode)||this.memberSearch(t)},memberSearch:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(e.visible&&t.currentRowIndex<t.members.length&&t.currentRowIndex>-1)){n.next=5;break}return n.next=3,t.setMemberInfo(e,t.members[t.currentRowIndex]);case 3:n.next=6;break;case 5:e.consigneeName&&(t.$set(e,"visible",!0),r=JSON.parse(JSON.stringify(M)),t.members=r.filter((function(t){return t.name.includes(e.consigneeName)})),t.currentRowIndex=-1);case 6:case"end":return n.stop()}}),n)})))()},clearValidate:function(){this.$refs["form"].clearValidate()}}},J=U,K=(n("20e2"),Object(h["a"])(J,$,R,!1,null,"2214df32",null)),V=K.exports,q={name:"FormTableTest",components:{FormTest:V}},z=q,H=(n("0379"),Object(h["a"])(z,T,E,!1,null,"ae9fd218",null)),G=H.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("ul",[n("li",[n("router-link",{attrs:{to:"/formTableTest"}},[e._v("表格嵌套表单")])],1),n("li",[n("router-link",{attrs:{to:"/keyTest"}},[e._v("key值测试")])],1)])])},W=[],X={name:"Home"},Y=X,Z=Object(h["a"])(Y,Q,W,!1,null,"e431a0ae",null),ee=Z.exports;r["default"].use(i["a"]);var te=[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:ee},{path:"/formTableTest",name:"formTableTest",component:G},{path:"/keyTest",name:"keyTest",component:C}],ne=new i["a"]({mode:"hash",routes:te}),re=ne,oe=(n("245a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)}),ae=[],ie={name:"App"},se=ie,ce=(n("034f"),Object(h["a"])(se,oe,ae,!1,null,null,null)),le=ce.exports;r["default"].use(a.a),r["default"].config.productionTip=!1,r["default"].prototype.axios=x,new r["default"]({router:re,render:function(e){return e(le)}}).$mount("#app")},"85ec":function(e,t,n){},d63b:function(e,t,n){},d658:function(e,t,n){},ff66:function(e){e.exports=JSON.parse('[{"name":"张三","id":1,"sex":"男","phoneNo":"15855325623","address":"美国bnn","firstOrderTime":"2020-01-23","recentOrderTime":"2020-07-23"},{"name":"李四","id":2,"sex":"男","phoneNo":"15855325623","address":"美sdf国","firstOrderTime":"2020-01-23","recentOrderTime":"2020-07-23"},{"name":"王二麻子","id":3,"sex":"男","phoneNo":"15855325623","address":"美国sf","firstOrderTime":"2020-01-23","recentOrderTime":"2020-07-23"},{"name":"王五","id":4,"sex":"男","phoneNo":"15855325623","address":"美国sdf","firstOrderTime":"2020-01-23","recentOrderTime":"2020-07-23"},{"name":"赵六","id":5,"sex":"男","phoneNo":"15855325623","address":"美国","firstOrderTime":"2020-01-23","recentOrderTime":"2020-07-23"},{"name":"宋九","id":6,"sex":"女","phoneNo":"15855325623","address":"美sfn国","firstOrderTime":"2020-01-23","recentOrderTime":"2020-07-23"},{"name":"王大","id":7,"sex":"男","phoneNo":"15855325623","address":"美国vdfv","firstOrderTime":"2020-01-23","recentOrderTime":"2020-07-23"}]')},ffd4:function(e,t,n){}});
//# sourceMappingURL=app.ad4f396d.js.map