(function(e){function n(n){for(var t,i,a=n[0],c=n[1],l=n[2],d=0,f=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(t in c)Object.prototype.hasOwnProperty.call(c,t)&&(e[t]=c[t]);u&&u(n);while(f.length)f.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,n=0;n<s.length;n++){for(var r=s[n],t=!0,a=1;a<r.length;a++){var c=r[a];0!==o[c]&&(t=!1)}t&&(s.splice(n--,1),e=i(i.s=r[0]))}return e}var t={},o={app:0},s=[];function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,n,r){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)i.d(r,t,function(n){return e[n]}.bind(null,t));return r},i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=n,a=a.slice();for(var l=0;l<a.length;l++)n(a[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,n,r){e.exports=r("56d7")},"034f":function(e,n,r){"use strict";var t=r("85ec"),o=r.n(t);o.a},"20e2":function(e,n,r){"use strict";var t=r("ffd4"),o=r.n(t);o.a},"281d":function(e,n,r){"use strict";var t=r("d658"),o=r.n(t);o.a},"56d7":function(e,n,r){"use strict";r.r(n);r("e260"),r("e6cf"),r("cca6"),r("a79d");var t=r("2b0e"),o=r("5c96"),s=r.n(o),i=(r("0fae"),function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("div",{attrs:{id:"app"}},[r("FormTest")],1)}),a=[],c=function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("div",{staticClass:"form-test"},[r("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules}},[r("el-form-item",[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.form.orderList,stripe:""}},[r("el-table-column",{attrs:{prop:"consigneeName",label:"收货人姓名"},scopedSlots:e._u([{key:"default",fn:function(n){return[r("el-form-item",{attrs:{label:"",prop:"orderList."+n.$index+".consigneeName",rules:e.rules.orderList.consigneeName}},[r("el-popover",{attrs:{placement:"bottom-start",title:"",trigger:"manual",width:"800"},model:{value:n.row.visible,callback:function(r){e.$set(n.row,"visible",r)},expression:"scope.row.visible"}},[r("el-input",{ref:"member-input_"+n.$index,attrs:{slot:"reference",placeholder:"姓名"},nativeOn:{keydown:[function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"esc",27,r.key,["Esc","Escape"])?null:(r.stopPropagation(),r.preventDefault(),e.displayNoneMedicineList(n.row))},function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"tab",9,r.key,"Tab")?null:e.displayNoneMedicineList(n.row)},function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"down",40,n.key,["Down","ArrowDown"])?null:(n.stopPropagation(),n.preventDefault(),e.navigateRow("next"))},function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"up",38,n.key,["Up","ArrowUp"])?null:(n.stopPropagation(),n.preventDefault(),e.navigateRow("prev"))}],keyup:[function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.memberSearch(n.row)},function(r){return function(r){e.debounceSearch(r,n.row)}(r)}],paste:function(r){return function(r){e.debounceSearch(r,n.row)}(r)}},slot:"reference",model:{value:n.row.consigneeName,callback:function(r){e.$set(n.row,"consigneeName",r)},expression:"scope.row.consigneeName"}}),r("Member",{attrs:{members:e.members,"current-row-index":e.currentRowIndex},on:{setMemberInfo:function(r){e.setMemberInfo(n.row,r)}}})],1)],1)]}}])}),r("el-table-column",{attrs:{prop:"consigneeSex",label:"收货人性别"},scopedSlots:e._u([{key:"default",fn:function(n){return[r("span",[e._v(e._s(n.row.consigneeSex||"--"))])]}}])}),r("el-table-column",{attrs:{prop:"consigneePhoneNo",label:"收货人电话"},scopedSlots:e._u([{key:"default",fn:function(n){return[r("span",[e._v(e._s(n.row.consigneePhoneNo||"--"))])]}}])}),r("el-table-column",{attrs:{prop:"consigneeAddr",label:"收货人地址"},scopedSlots:e._u([{key:"default",fn:function(n){return[r("span",[e._v(e._s(n.row.consigneeAddr||"--"))])]}}])}),r("el-table-column",{attrs:{prop:"consignorName",label:"发货人姓名"},scopedSlots:e._u([{key:"default",fn:function(n){return[r("span",[e._v(e._s(n.row.consignorName||"--"))])]}}])}),r("el-table-column",{attrs:{prop:"consignorPhoneNo",label:"发货人电话"},scopedSlots:e._u([{key:"default",fn:function(n){return[r("span",[e._v(e._s(n.row.consignorPhoneNo||"--"))])]}}])}),r("el-table-column",{attrs:{prop:"consignorAddr",label:"发货人地址"},scopedSlots:e._u([{key:"default",fn:function(n){return[r("span",[e._v(e._s(n.row.consignorAddr||"--"))])]}}])}),r("el-table-column",{attrs:{prop:"remark",label:"备注"},scopedSlots:e._u([{key:"default",fn:function(n){return[r("el-input",{nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.enterRemark(n.$index)}},model:{value:n.row.remark,callback:function(r){e.$set(n.row,"remark",r)},expression:"scope.row.remark"}})]}}])}),r("el-table-column",{attrs:{prop:"operation",label:"",width:"80"},scopedSlots:e._u([{key:"default",fn:function(n){return[r("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(r){return e.delOrder(n.$index)}}})]}}])},[r("template",{slot:"header"},[r("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{cursor:"pointer"},on:{click:function(n){return e.addOrder()}}})])],2)],1)],1)],1),r("div",{staticClass:"operation"},[r("el-button",{attrs:{type:"primary"},on:{click:e.sendBatch}},[e._v("批量发货")])],1)],1)},l=[],u=(r("4de4"),r("caad"),r("a434"),r("b0c0"),r("2532"),r("96cf"),r("1da1")),d=function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("div",{staticClass:"member"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.members,"highlight-current-row":"",height:"295","row-class-name":e.tableRowClassName},on:{"row-click":e.handleRowClick}},[r("el-table-column",{attrs:{prop:"name",label:"姓名","min-width":"80","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"sex",label:"性别","min-width":"80","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"phoneNo",label:"手机号","min-width":"120","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"address",label:"住址","min-width":"80","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"firstOrderTime",label:"首次订单时间","min-width":"150","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"recentOrderTime",label:"最近订单时间","min-width":"150","show-overflow-tooltip":""}})],1)],1)},f=[],m=(r("a9e3"),{name:"Member",props:{members:{type:Array,default:function(){return[]}},currentRowIndex:{type:Number,default:-1}},methods:{tableRowClassName:function(e){var n=e.rowIndex;return n===this.currentRowIndex?"active-row":""},handleRowClick:function(e){e&&this.$emit("setMemberInfo",e)}}}),p=m,h=(r("281d"),r("2877")),b=Object(h["a"])(p,d,f,!1,null,null,null),w=b.exports,g=r("ff66"),v=r("2ef0"),x=r.n(v),y={originConsigneeName:"",consigneeCode:"",consigneeName:"",consigneeSex:"",consigneePhoneNo:"",consigneeAddr:"",consignorName:"Nancy",consignorPhoneNo:"12345678923",consignorAddr:"安道尔",remark:"",visible:!1},k={name:"FormTest",components:{Member:w},data:function(){return{members:[],currentRowIndex:-1,form:{orderList:[x.a.cloneDeep(y)]},rules:{orderList:{consigneeName:[{required:!0,message:"收货人不能为空",trigger:"blur"}],remark:[]}}}},methods:{sendBatch:function(){var e=this;this.$refs["form"].validate((function(n){n?e.$message.success("成功发送".concat(e.form.orderList.length,"条订单")):e.$message.error("请检查表单项")}))},enterRemark:function(e){var n=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e!==n.form.orderList.length-1){r.next=5;break}return r.next=3,n.addOrder();case 3:r.next=9;break;case 5:return r.next=7,n.$nextTick();case 7:return r.next=9,n.focusConsigneeNameName(e+1);case 9:case"end":return r.stop()}}),r)})))()},addOrder:function(){this.form.orderList.push(x.a.cloneDeep(y)),this.focusConsigneeNameName(this.form.orderList.length-1)},focusConsigneeNameName:function(e){var n=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,n.$nextTick();case 2:n.$refs["member-input_".concat(e)].focus();case 3:case"end":return r.stop()}}),r)})))()},delOrder:function(e){1!==this.form.orderList.length?this.form.orderList.splice(e,1):this.$message.info("至少保存一条订单")},setMemberInfo:function(e,n){var r=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r.displayNoneMedicineList(e),r.$set(e,"consigneeName",n.name),r.$set(e,"originConsigneeName",n.name),r.$set(e,"consigneeCode",n.id),r.$set(e,"consigneeSex",n.sex),r.$set(e,"consigneePhoneNo",n.phoneNo),r.$set(e,"consigneeAddr",n.address),t.next=9,r.$nextTick();case 9:r.clearValidate();case 10:case"end":return t.stop()}}),t)})))()},displayNoneMedicineList:function(e){var n=this;this.$set(e,"consigneeName",e.consigneeCode?e.originConsigneeName:""),setTimeout((function(){n.members=[],n.currentRowIndex=-1,n.$set(e,"visible",!1)}),250)},navigateRow:function(e){var n;(null===(n=this.members)||void 0===n?void 0:n.length)&&("next"===e?(this.currentRowIndex+=1,this.currentRowIndex===this.members.length&&(this.currentRowIndex=0)):(this.currentRowIndex-=1,this.currentRowIndex<0&&(this.currentRowIndex=this.members.length-1)))},debounceSearch:function(e,n){[37,38,39,40,9,13,27].includes(e.keyCode)||this.memberSearch(n)},memberSearch:function(e){var n=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!(e.visible&&n.currentRowIndex<n.members.length&&n.currentRowIndex>-1)){r.next=5;break}return r.next=3,n.setMemberInfo(e,n.members[n.currentRowIndex]);case 3:r.next=6;break;case 5:e.consigneeName&&(n.$set(e,"visible",!0),t=JSON.parse(JSON.stringify(g)),n.members=t.filter((function(n){return n.name.includes(e.consigneeName)})),n.currentRowIndex=-1);case 6:case"end":return r.stop()}}),r)})))()},clearValidate:function(){this.$refs["form"].clearValidate()}}},N=k,O=(r("20e2"),Object(h["a"])(N,c,l,!1,null,"2214df32",null)),_=O.exports,R={name:"App",components:{FormTest:_}},S=R,$=(r("034f"),Object(h["a"])(S,i,a,!1,null,null,null)),T=$.exports;t["default"].use(s.a),t["default"].config.productionTip=!1,new t["default"]({render:function(e){return e(T)}}).$mount("#app")},"85ec":function(e,n,r){},d658:function(e,n,r){},ff66:function(e){e.exports=JSON.parse('[{"name":"张三","id":1,"sex":"男","phoneNo":"15855325623","address":"美国bnn","firstOrderTime":"2020-01-23","recentOrderTime":"2020-07-23"},{"name":"李四","id":2,"sex":"男","phoneNo":"15855325623","address":"美sdf国","firstOrderTime":"2020-01-23","recentOrderTime":"2020-07-23"},{"name":"王二麻子","id":3,"sex":"男","phoneNo":"15855325623","address":"美国sf","firstOrderTime":"2020-01-23","recentOrderTime":"2020-07-23"},{"name":"王五","id":4,"sex":"男","phoneNo":"15855325623","address":"美国sdf","firstOrderTime":"2020-01-23","recentOrderTime":"2020-07-23"},{"name":"赵六","id":5,"sex":"男","phoneNo":"15855325623","address":"美国","firstOrderTime":"2020-01-23","recentOrderTime":"2020-07-23"},{"name":"宋九","id":6,"sex":"女","phoneNo":"15855325623","address":"美sfn国","firstOrderTime":"2020-01-23","recentOrderTime":"2020-07-23"},{"name":"王大","id":7,"sex":"男","phoneNo":"15855325623","address":"美国vdfv","firstOrderTime":"2020-01-23","recentOrderTime":"2020-07-23"}]')},ffd4:function(e,n,r){}});
//# sourceMappingURL=app.210defa1.js.map